import unittest

import requests
from ai_auth.models import AiUser
from ai_staff.models import Currencies, VendorLegalCategories
from django.test import TestCase
from django.test.client import Client
from django.urls import reverse
from rest_framework import status
from rest_framework.test import APITestCase

from ai_vendor.models import Languages, VendorsInfo

# class VendorInfoTestCase(APITestCase):

#     def setUp(self):
#         # print("****************")
        
#         # source_Langauge = Languages.objects.create(
#         #   Language='English', language_code='en', locale_code="en", combined_code="en-US" )

#         type = VendorLegalCategories.objects.create(name="Company/Agency")
#         currency = Currencies.objects.create(currency="United States dollar")
#         native_lang = Languages.objects.create(language="English")

#         # target_Langauge = Languages.objects.create(
#         #   Language='Tamil', language_code='ta', locale_code="ta", combined_code="ta-IN" )

#         # ai_user = AiUser.objects.create(
#         #   email='ai.vendor@dispostable.com', password='@!/@y$@123' )

#         # print(Languages.objects.all())
#         # self.glossary = Glossary.objects.create(
#         #   glossary_Name='Medical', notes='NA', source_Langauge=source_Langauge,
#         #     target_Langauge=target_Langauge, user=user
#         #    )

#         self.vendor_info = VendorsInfo.objects.create(
#            type=type, currency=currency, native_lang=native_lang
#            )

#         self.BASE_URL = "http://localhost:8000/"
#         self.c = Client()
       

#     def test_get_vendor_info(self):

#         # payload={'type': 1, 'currency':144, 'native_lang':27}        
       

#         # url = f'{self.BASE_URL}/vendor/vendor_info/'
#         url = f'http://localhost:8000/vendor/vendor_info/'
        
	
#         headers = {
# 		'Authorization': 'Bearer eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJ0b2tlbl90eXBlIjoiYWNjZXNzIiwiZXhwIjoxNjI3Mjk3ODczLCJqdGkiOiJhMTcxNzk3ZDA3NTQ0NTFmYjk3MjdkYWIyNzk3MGFhNCIsInVzZXJfaWQiOjF9.Ykn358kk4vgcWviAac8ZXTJOnEZa2fvuPfSxdfeGM5g',
# 		# 'Cookie': 'csrftoken=S2ppXsmmQ109Kyi9BXw9ltfJlmAGPWM7kf5eXJzZ5S5Paymon735s0B4hRbCs33W; sessionid=3slct6l46ztaw64sbnd55zaqz51z9wk8'
# 		}
#         # response = self.c.get(url)
#         response = requests.request("PUT", url, headers=headers, data=payload)
#         self.assertEqual(200, response.status_code)


####################################################################

# class VendorsInfoTestCase(APITestCase):

#     list_url = reverse('vendor-info')    
  
#     def setUp(self):
#         self.user = AiUser.objects.create(  email="ilango@ailaysa.com",
#                                             password = "admin@1000" )
    
#     def user_authentication(self):
#         pass
        
    
#     # def test_vendorinfo_creation(self):
#     #     self.BASE_URL = "http://localhost:8000/vendor/"
#     #     data = {
#     #         "type" : 1, "currency" : 2, "native_lang" : 17, "year_of_experience" : 5 
#     #     }
#     #     response = self.client.post(f"{self.BASE_URL}vendor_info/", data)
#     #     self.assertEqual(response.status_code, status.HTTP_201_CREATED)
    
#     def test_vendorinfo_list(self):
#         # self.BASE_URL = "http://localhost:8000/vendor/"
#         # data = {
#         #     "type" : 1, "currency" : 2, "native_lang" : 17, "year_of_experience" : 5 
#         # }
#         response = self.client.get(self.list_url)
#         self.assertEqual(response.status_code, status.HTTP_200_OK)

################  NEW   #############################
# class TestSetUp(APITestCase):

#     url = "vendor/vendor_info/"

#     def setUp(self):
#         login = requests.post(f"http://localhost:8000/auth/dj-rest-auth/login/", 
#                         data = {"email":"ai.vendor@dispostable.com", "password": "@!/@y$@123"})

#         content = login.json()
#         access_token = content.get("access_token")
#         self.headers = {
# 		'Authorization': f'Bearer {access_token}',
# # 		# 'Cookie': 'csrftoken=S2ppXsmmQ109Kyi9BXw9ltfJlmAGPWM7kf5eXJzZ5S5Paymon735s0B4hRbCs33W; sessionid=3slct6l46ztaw64sbnd55zaqz51z9wk8'
# 		}

#         currency = Currencies.objects.create(currency="Euro", currency_code="EU")
#         type = VendorLegalCategories.objects.create(name="Company")
#         VendorsInfo.objects.create(skype="abc123", proz_link="www.proz.in", currency=currency, type=type)


# class TestVendorsInfo(TestSetUp):

#     def test_get_vendorsinfo(self):
#         # response = self.client.get(self.url, headers=self.headers)
#         response = requests.request("GET", self.url, headers=self.headers)
#         result = response.json()
#         print("GET RESULT--->", result)

#         self.assertEqual(response.status_code, 200)
#         self.assertIsInstance(result, list)
    
#     def test_post_vendorsinfo(self):        
#         data = {
#                 "skype":"pqr123",
#                 "proz_link" : "abcd.com"
#         }
#         # response = self.client.post(self.url, headers=self.headers, data=data)
#         response = requests.request("POST", self.url, headers=self.headers, data=data)
#         result = response.json()
#         print("POST RESULT--->", result)

#         self.assertEqual(response.status_code, 201)
#         self.assertEqual(result["skype"] , "pqr123")
#         self.assertIsInstance(result, list)
    
#     def test_update_vendorsinfo(self):
#         pk = "1"
#         data = {
#             "skype":"efg123"
#         }
#         # response = self.client.put(self.url + f"/{pk}", data=data, headers=self.headers)
#         response = requests.request("PUT", self.url, headers=self.headers, data=data)
#         result = response.json()

#         self.assertEqual(response.status_code, 200)
#         self.assertEqual(result["skype"], "efg123")
######################################

registration = http://143.244.140.71:8000/auth/dj-rest-auth/registration/